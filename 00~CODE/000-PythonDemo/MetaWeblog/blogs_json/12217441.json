{'dateCreated': <DateTime '20200120T12:18:00' at 0x1a4f29d5f08>, 'description': "# 鼠标事件\n\n```python\nimport cv2\nevents=[i for i in dir(cv2) if 'EVENT'in i]\nprint events\n```\n\n# 双击画圆圈\n\n```python\nimport cv2\nimport numpy as np\n# mouse callback function\n\n\ndef draw_circle(event, x, y, flags, param):\n    if event == cv2.EVENT_LBUTTONDBLCLK:\n        cv2.circle(img, (x, y), 100, (255, 0, 0), -1)\n\n\n# 创建图像与窗口并将窗口与回调函数绑定\nimg = np.zeros((512, 512, 3), np.uint8)\ncv2.namedWindow('image')\ncv2.setMouseCallback('image', draw_circle)\nwhile(1):\n    cv2.imshow('image', img)\n    if cv2.waitKey(20) & 0xFF == 27:\n        break\ncv2.destroyAllWindows()\n```\n\n```python\nimport cv2\nimport numpy as np\n# 当鼠标按下时变为 True\ndrawing = False\n# 如果 mode 为 true 绘制矩形。按下'm' 变成绘制曲线。\nmode = True\nix, iy = -1, -1\n# 创建回调函数\n\n\ndef draw_circle(event, x, y, flags, param):\n    global ix, iy, drawing, mode\n# 当按下左键是返回起始位置坐标\n    if event == cv2.EVENT_LBUTTONDOWN:\n        drawing = True\n        ix, iy = x, y\n# 当鼠标左键按下并移动是绘制图形。 event 可以查看移动， flag 查看是否按下\n    elif event == cv2.EVENT_MOUSEMOVE and flags == cv2.EVENT_FLAG_LBUTTON:\n        if drawing == True:\n            if mode == True:\n                cv2.rectangle(img, (ix, iy), (x, y), (0, 255, 0), -1)\n            else:\n                # 绘制圆圈，小圆点连在一起就成了线， 3 代表了笔画的粗细\n                cv2.circle(img, (x, y), 3, (0, 0, 255), -1)\n            # 下面注释掉的代码是起始点为圆心，起点到终点为半径的\n            # r=int(np.sqrt((x-ix)**2+(y-iy)**2))\n            # cv2.circle(img,(x,y),r,(0,0,255),-1)\n            # 当鼠标松开停止绘画。\n    elif event == cv2.EVENT_LBUTTONUP:\n        drawing == False\n\n        # if mode==True:\n        # cv2.rectangle(img,(ix,iy),(x,y),(0,255,0),-1)\n        # else:\n        # cv2.circle(img,(x,y),5,(0,0,255),-1)\nimg = np.zeros((512, 512, 3), np.uint8)\ncv2.namedWindow('image')\ncv2.setMouseCallback('image', draw_circle)\nwhile(1):\n    cv2.imshow('image', img)\n    k = cv2.waitKey(1) & 0xFF\n    if k == ord('m'):\n        mode = not mode\n    elif k == 27:\n        break\n```", 'title': 'python opencv：使用鼠标当做画笔', 'categories': ['[随笔分类]OpenCV~Python', '[随笔分类]OpenCV'], 'enclosure': {'length': 0}, 'link': 'https://www.cnblogs.com/wbyixx/p/12217441.html', 'permalink': 'https://www.cnblogs.com/wbyixx/p/12217441.html', 'postid': '12217441', 'source': {}, 'userid': '-2'}
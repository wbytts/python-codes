{'dateCreated': <DateTime '20200211T14:58:00' at 0x1a4f2585a48>, 'description': '常见的图像梯度算子：\n![](https://img2018.cnblogs.com/blog/1446249/202002/1446249-20200211145701550-1044808109.png)\n\n一阶导数算子：\n![](https://img2018.cnblogs.com/blog/1446249/202002/1446249-20200211145729193-1522518366.png)\n\n```c++\n#include <opencv2/opencv.hpp>\n#include <iostream>\n\nusing namespace cv;\nusing namespace std;\n\nint main(int argc, char** argv)\n{\n    Mat src = imread("f:/images/lena.jpg");\n    if (src.empty())\n    {\n        printf("Could not find the image!\\n");\n        return -1;\n    }\n\n    namedWindow("input", WINDOW_AUTOSIZE);\n    imshow("input", src);\n\n    \n    Mat grad_x, grad_y;\n    Mat result;\n\n    // robot\n    Mat robot_x = (Mat_<int>(2, 2) << 1, 0, 0, -1);\n    Mat robot_y = (Mat_<int>(2, 2) << 0, 1, -1, 0);\n    filter2D(src, grad_x, CV_32F, robot_x, Point(-1, -1), 0, BORDER_DEFAULT);\n    filter2D(src, grad_y, CV_32F, robot_y, Point(-1, -1), 0, BORDER_DEFAULT);\n    convertScaleAbs(grad_x, grad_x);\n    convertScaleAbs(grad_y, grad_y);\n    imshow("robot_x", grad_x);\n    imshow("robot_y", grad_y);\n    add(grad_x, grad_y, result);\n    imshow("robot_result", result);\n\n    // sobel\n    Sobel(src, grad_x, CV_32F, 1, 0, 3);\n    Sobel(src, grad_y, CV_32F, 0, 1, 3);\n    convertScaleAbs(grad_x, grad_x);\n    convertScaleAbs(grad_y, grad_y);\n    imshow("sobel_x", grad_x);\n    imshow("sobel_y", grad_y);\n    //add(grad_x, grad_y, result);\n    addWeighted(grad_x, 0.5, grad_y, 0.5, 0, result);\n    imshow("sobel_result", result);\n\n    // scharr\n    Scharr(src, grad_x, CV_32F, 1, 0, 3);\n    Scharr(src, grad_y, CV_32F, 0, 1, 3);\n    convertScaleAbs(grad_x, grad_x);\n    convertScaleAbs(grad_y, grad_y);\n    imshow("scharr_x", grad_x);\n    imshow("scharr_y", grad_y);\n    //add(grad_x, grad_y, result);\n    addWeighted(grad_x, 0.5, grad_y, 0.5, 0, result);\n    imshow("scharr_result", result);\n\n    waitKey(0);\n    destroyAllWindows();\n\n    return 0;\n}\n```', 'title': 'opencv：图像梯度', 'categories': ['[随笔分类]OpenCV'], 'enclosure': {'length': 0}, 'link': 'https://www.cnblogs.com/wbyixx/p/12295107.html', 'permalink': 'https://www.cnblogs.com/wbyixx/p/12295107.html', 'postid': '12295107', 'source': {}, 'userid': '-2'}
{'dateCreated': <DateTime '20200130T22:31:00' at 0x1a4f299d3c8>, 'description': '\n```c++\n#include <opencv2/opencv.hpp>\n#include <iostream>\n\nusing namespace cv;\nusing namespace std;\n\nint main(int argc, char** argv)\n{\n\n    //Mat src = imread("f:/images/starry_night.jpg", IMREAD_GRAYSCALE);\n    Mat src = imread("f:/images/starry_night.jpg");\n\n    if (src.empty())\n    {\n        printf("Could not find the image!\\n");\n        return -1;\n    }\n\n    namedWindow("input", WINDOW_AUTOSIZE);\n    imshow("input", src);\n\n    int w = src.cols;\n    int h = src.rows;\n    int ch = src.channels();\n\n    printf("w: %d, h: %d, ch: %d\\n", w, h, ch);\n\n    double min_val;\n    double max_val;\n    // 最大值，最小值，所在的像素点的位置\n    Point minloc;\n    Point maxloc;\n    // 找到图片的最大最小值\n    /* 只支持一个通道 */\n    //minMaxLoc(src, &min_val, &max_val, &minloc, &maxloc, Mat());\n    //printf("min: %.2f, max: %.2f\\n", min_val, max_val);\n\n    // 像素值统计信息\n    vector<int> hist(256);\n    for (int i = 0; i < 256; i++) {\n        hist[i] = 0;\n    }\n    for (int row = 0; row < h; row++) {\n        for (int col = 0; col < w; col++) {\n            int pv = src.at<uchar>(row, col);\n            hist[pv]++; // 统计每一个像素值的出现次数\n        }\n    }\n\n    // 均值、方差\n    Scalar s = mean(src);\n    printf("mean: (%.2f, %.2f, %.2f)\\n", s[0], s[1], s[2]);\n    Mat mm, mstd;\n    meanStdDev(src, mm, mstd);\n    printf("mstd rows: %d, cols: %d\\n", mstd.rows, mstd.cols);\n    printf("mm: rows: %d, cols: %d\\n", mm.rows, mm.cols);\n    printf("mstd: %.2f, %.2f, %.2f\\n", mstd.at<double>(0,0), mstd.at<double>(1, 0), mstd.at<double>(2, 0));\n    printf("mm: %.2f, %.2f, %.2f\\n", mm.at<double>(0, 0), mm.at<double>(1, 0), mm.at<double>(2, 0));\n    \n    src = Mat::zeros(Size(512, 512), CV_8UC3);\n    src = Scalar(0, 0, 255); // 创建一个纯红色的图像\n    imshow("red src", src);\n    printf("\\n\\n一个纯红色的图像\\n");\n\n    meanStdDev(src, mm, mstd);\n    printf("mstd rows: %d, cols: %d\\n", mstd.rows, mstd.cols);\n    printf("mm: rows: %d, cols: %d\\n", mm.rows, mm.cols);\n    printf("mstd: %.2f, %.2f, %.2f\\n", mstd.at<double>(0, 0), mstd.at<double>(1, 0), mstd.at<double>(2, 0));\n    printf("mm: %.2f, %.2f, %.2f\\n", mm.at<double>(0, 0), mm.at<double>(1, 0), mm.at<double>(2, 0));\n\n\n    waitKey(0);\n    destroyAllWindows();\n\n    return 0;\n}\n```', 'title': 'opencv：像素统计信息', 'categories': ['[随笔分类]OpenCV'], 'enclosure': {'length': 0}, 'link': 'https://www.cnblogs.com/wbyixx/p/12244222.html', 'permalink': 'https://www.cnblogs.com/wbyixx/p/12244222.html', 'postid': '12244222', 'source': {}, 'userid': '-2'}
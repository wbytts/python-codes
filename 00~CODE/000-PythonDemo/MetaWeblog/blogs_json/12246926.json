{'dateCreated': <DateTime '20200131T21:56:00' at 0x1a4f2994248>, 'description': '![](https://img2018.cnblogs.com/blog/1446249/202001/1446249-20200131215816703-517259917.png)\n\n```c++\nvoid hist_compare(Mat src1, Mat src2) {\n    int histSize[] = { 256, 256, 256 };\n    int channels[] = { 0, 1, 2 };\n    Mat hist1, hist2;\n    float c1[] = { 0, 255 };\n    float c2[] = { 0, 255 };\n    float c3[] = { 0, 255 };\n    const float* histRanges[] = { c1, c2, c3 };\n    calcHist(&src1, 1, channels, Mat(), hist1, 3, histSize, histRanges, true, false);\n    calcHist(&src2, 1, channels, Mat(), hist2, 3, histSize, histRanges, true, false);\n\n    // 归一化\n    normalize(hist1, hist1, 0, 1.0, NORM_MINMAX, -1, Mat());\n    normalize(hist2, hist2, 0, 1.0, NORM_MINMAX, -1, Mat());\n\n    // 比较 - 巴氏距离\n    double h12_bhattacharyya = compareHist(hist1, hist2, HISTCMP_BHATTACHARYYA);\n    double h11_bhattacharyya = compareHist(hist1, hist1, HISTCMP_BHATTACHARYYA);\n\n    // 比较 - 相关性比较\n    double h12_correl = compareHist(hist1, hist2, HISTCMP_CORREL);\n    double h11_correl = compareHist(hist1, hist1, HISTCMP_CORREL);\n\n    printf("巴氏距离: h12 = %.2f\\th11 = %.2f\\n", h12_bhattacharyya, h11_bhattacharyya);\n    printf("相关性: h12 = %.2f\\th11 = %.2f\\n", h12_correl, h11_correl);\n}\n```', 'title': 'opencv：图像直方图相似性比较', 'categories': ['[随笔分类]OpenCV'], 'enclosure': {'length': 0}, 'link': 'https://www.cnblogs.com/wbyixx/p/12246926.html', 'permalink': 'https://www.cnblogs.com/wbyixx/p/12246926.html', 'postid': '12246926', 'source': {}, 'userid': '-2'}